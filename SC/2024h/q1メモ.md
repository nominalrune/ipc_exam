
# Log4j Lookup機能の問題
`${jndi:ldap://...}` という文字列を、ログ出力メッセージというデータの中に含めると、Log4jのLookup機能がそれを命令として解釈・実行

SQLのプリペアドステートメント（?を使う方法）
なぜLog4jはインジェクションに弱かったのか
SQLインジェクションとLog4Shellの根本的な原因は同じで、「外部から受け取ったデータ（文字列）を、命令（コード）の一部として解釈・実行してしまった」ことです。

良い例（パラメータ化ロギング）
こちらが推奨される書き方です。ログメッセージのテンプレート（ひな形）と、そこに入れるデータを別々の引数として渡します。

```Java
String userInput = request.getParameter("username"); // 外部からの入力
// テンプレートとデータを分離して渡す
logger.info("User: {} logged in.", userInput);
```

